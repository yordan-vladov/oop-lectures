
# –†–∞–±–æ—Ç–∞ —Å –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç –≤ –∫–ª–∞—Å–æ–≤–µ

---

## –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

* –î–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç ‚Äì –Ω–∞–ø–æ–º–Ω—è–Ω–µ
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏ –≤ –∫–ª–∞—Å–æ–≤–µ (RAII)
* –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä–∞–Ω–µ, –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ
* –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ `delete`

---

* Getter-–∏ –∏ Setter-–∏
* –ü—Ä–∏–º–µ—Ä: –∫–ª–∞—Å `String`
* Rule of 3/5
* –ó–∞–¥–∞—á–∏

---

# –î–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç –≤ C++

---

* –ò–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–ª—é—á–æ–≤–∏ –¥—É–º–∏ `new` –∏ `delete` –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–∞–º–µ—Ç—Ç–∞:

  * `new` ‚Äì –∑–∞–¥–µ–ª—è –ø–∞–º–µ—Ç (–≤ heap)
  * `delete` ‚Äì –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –ø–∞–º–µ—Ç
---
* –ù—É–∂–Ω–æ –µ **–≤–Ω–∏–º–∞–Ω–∏–µ**, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º:

  * **Memory leaks**
  * **Dangling pointers**
  * **Double delete**

---

```cpp
int* ptr = new int(42); // –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç
cout << *ptr << endl;
delete ptr;             // –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞–Ω–µ
ptr = nullptr;
```

---

# –ö–ª–∞—Å–æ–≤–µ –∏ –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç

---

* –ö–æ–≥–∞—Ç–æ –∫–ª–∞—Å –∑–∞–¥–µ–ª—è/—É–ø—Ä–∞–≤–ª—è–≤–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç, —Ç—Ä—è–±–≤–∞ –¥–∞:

  * –û—Å–∏–≥—É—Ä–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞–Ω–µ
  * –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ –∏ –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ

---

# –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ—Å—Ç –∫–ª–∞—Å `String` —Å –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç

```cpp
class String
{
private:
    char* data;   // –¥–∏–Ω–∞–º–∏chen masiv
    size_t size;

public:
    String(const char* s)
    {
        size = strlen(s);
        data = new char[size + 1];
        strcpy(data, s);
    }
};
```

---

# –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä

---

* –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ **–æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏**.
* –ò–∑–≤–∏–∫–≤–∞ —Å–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ**, –∫–æ–≥–∞—Ç–æ –æ–±–µ–∫—Ç—ä—Ç –∏–∑–ª–µ–∑–µ –æ—Ç –æ–±—Ö–≤–∞—Ç.

```cpp
~String()
{
    delete[] data;
}
```

---

# –ö–æ–ø–∏—Ä–∞—â –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä=

---

* **–ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏**, –∫–æ–≥–∞—Ç–æ –∫–ª–∞—Å—ä—Ç —É–ø—Ä–∞–≤–ª—è–≤–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç.

```cpp
// –ö–æ–ø–∏—Ä–∞—â –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
String(const String& other)
{
    size = other.size;
    data = new char[size + 1];
    strcpy(data, other.data);
}

// –û–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞ –ø—Ä–∏—Å–≤–æ—è–≤–∞–Ω–µ
String& operator=(const String& other)
{
    if (this != &other) {
        delete[] data;
        size = other.size;
        data = new char[size + 1];
        strcpy(data, other.data);
    }
    return *this;
}
```

---

# Move –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä=

---

* –ü–æ–∑–≤–æ–ª—è–≤–∞—Ç **–ø—Ä–µ—Ö–≤—ä—Ä–ª—è–Ω–µ** –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏, –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–∞–Ω–µ.

```cpp
// Move –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
String(String&& other) noexcept
    : data(other.data), size(other.size)
{
    other.data = nullptr;
    other.size = 0;
}

// Move –æ–ø–µ—Ä–∞—Ç–æ—Ä=
String& operator=(String&& other) noexcept
{
    if (this != &other) {
        delete[] data;
        data = other.data;
        size = other.size;
        other.data = nullptr;
    }
    return *this;
}
```

---

# Getter-–∏ –∏ Setter-–∏

---

* –ú–æ–≥–∞—Ç –¥–∞ —Ä–∞–±–æ—Ç—è—Ç —Å –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç:

  * –≤—Ä—ä—â–∞–Ω–µ –Ω–∞ –∫–æ–ø–∏–µ
  * –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç
  * –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç

```cpp
const char* getData() const {
    return data;
}
```

---

# –ü—ä–ª–µ–Ω –ø—Ä–∏–º–µ—Ä: –¥–∏–Ω–∞–º–∏—á–µ–Ω `String` –∫–ª–∞—Å

```cpp
#include <cstring>
#include <iostream>

class String
{
private:
    char* data;
    size_t size;

public:
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç C-—Å—Ç—Ä–∏–Ω–≥
    String(const char* s) {
        size = strlen(s);
        data = new char[size + 1];
        strcpy(data, s);
    }

    // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
    ~String() {
        delete[] data;
    }

    // –ö–æ–ø–∏—Ä–∞—â –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    String(const String& other) {
        size = other.size;
        data = new char[size + 1];
        strcpy(data, other.data);
    }

    // –ö–æ–ø–∏—Ä–∞—â –æ–ø–µ—Ä–∞—Ç–æ—Ä=
    String& operator=(const String& other) {
        if (this != &other) {
            delete[] data;
            size = other.size;
            data = new char[size + 1];
            strcpy(data, other.data);
        }
        return *this;
    }

    // Move –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    String(String&& other) noexcept
        : data(other.data), size(other.size)
    {
        other.data = nullptr;
        other.size = 0;
    }

    // Move –æ–ø–µ—Ä–∞—Ç–æ—Ä=
    String& operator=(String&& other) noexcept {
        if (this != &other) {
            delete[] data;
            data = other.data;
            size = other.size;
            other.data = nullptr;
            other.size = 0;
        }
        return *this;
    }

    // –ú–µ—Ç–æ–¥ –∑–∞ –¥–æ—Å—Ç—ä–ø
    const char* c_str() const {
        return data;
    }
};

int main() {
    String s1("Hello");
    String s2 = s1;          // –∫–æ–ø–∏—Ä–∞—â –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    String s3 = std::move(s1); // move –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

    std::cout << s2.c_str() << std::endl;
    std::cout << s3.c_str() << std::endl;

    return 0;
}
```

---

# Rule of 3 / Rule of 5 ‚Äì –Ω–∞–ø–æ–º–Ω—è–Ω–µ

---

| ‚Ññ | –ú–µ—Ç–æ–¥               | –ó–Ω–∞—á–µ–Ω–∏–µ              |
| - | ------------------- | --------------------- |
| 1 | –ö–æ–ø–∏—Ä–∞—â –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä | –¥—ä–ª–±–æ–∫–æ –∫–æ–ø–∏–µ         |
| 2 | –ö–æ–ø–∏—Ä–∞—â –æ–ø–µ—Ä–∞—Ç–æ—Ä=   | —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏ |
| 3 | –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä          | –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ —Ä–µ—Å—É—Ä—Å–∏   |
| 4 | Move –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä    | –ø—Ä–µ—Ö–≤—ä—Ä–ª—è —Ä–µ—Å—É—Ä—Å–∏     |
| 5 | Move –æ–ø–µ—Ä–∞—Ç–æ—Ä=      | –ø—Ä–µ—Ö–≤—ä—Ä–ª—è —Ä–µ—Å—É—Ä—Å–∏     |

---

> **–ü—Ä–∞–≤–∏–ª–æ**: –ê–∫–æ –∫–ª–∞—Å—ä—Ç —É–ø—Ä–∞–≤–ª—è–≤–∞ —Ä–µ—Å—É—Ä—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç), —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ **—Ç–µ–∑–∏ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –º–µ—Ç–æ–¥–∏**.

---

## –£–º–Ω–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ C++

---

### `std::unique_ptr`

* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ **—É–Ω–∏–∫–∞–ª–µ–Ω** —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –Ω–∞ —Ä–µ—Å—É—Ä—Å.
* –°–∞–º–æ –µ–¥–∏–Ω `unique_ptr` –º–æ–∂–µ –¥–∞ –ø—Ä–∏—Ç–µ–∂–∞–≤–∞ –¥–∞–¥–µ–Ω —Ä–µ—Å—É—Ä—Å (–ø–∞–º–µ—Ç).
* –ù–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∫–æ–ø–∏—Ä–∞–Ω, **—Å–∞–º–æ –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω** (move semantics).
* –û—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –ø–∞–º–µ—Ç—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
---
```cpp
#include <memory>

int main() {
    std::unique_ptr<int> ptr = std::make_unique<int>(42);
    std::cout << *ptr << std::endl;

    // –ø—Ä–µ—Ö–≤—ä—Ä–ª—è–Ω–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–æ—Å—Ç
    std::unique_ptr<int> ptr2 = std::move(ptr);

    if (!ptr) {
        std::cout << "ptr –µ nullptr" << std::endl;
    }
}
```

---

### `std::shared_ptr`

* –ü–æ–∑–≤–æ–ª—è–≤–∞ **—Å–ø–æ–¥–µ–ª–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–æ—Å—Ç** –Ω–∞ —Ä–µ—Å—É—Ä—Å.
* –í–æ–¥–∏ –≤—ä—Ç—Ä–µ—à–µ–Ω **reference count** ‚Äì –±—Ä–æ–∏ –∫–æ–ª–∫–æ `shared_ptr` —Å–æ—á–∞—Ç –∫—ä–º –µ–¥–∏–Ω –∏ —Å—ä—â –æ–±–µ–∫—Ç.
* –û—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –ø–∞–º–µ—Ç—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∫–æ–≥–∞—Ç–æ –±—Ä–æ—è—Ç –ø–∞–¥–Ω–µ –¥–æ 0.
* –ò–º–∞ –ª–µ–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç–Ω–∞ —Ü–µ–Ω–∞ –∑–∞—Ä–∞–¥–∏ –±—Ä–æ–µ–Ω–µ—Ç–æ.

```cpp
#include <memory>
#include <iostream>

int main() {
    std::shared_ptr<int> a = std::make_shared<int>(10);
    std::shared_ptr<int> b = a; // –∫–æ–ø–∏—Ä–∞–Ω–µ - –±—Ä–æ—è—Ç —Å—Ç–∞–≤–∞ 2

    std::cout << "a: " << *a << ", b: " << *b << std::endl;
    std::cout << "–£–∫–∞–∑–∞—Ç–µ–ª–∏: " << a.use_count() << std::endl; // –ø–æ–∫–∞–∑–≤–∞ 2
}
```

---

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `unique_ptr` vs `shared_ptr`

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞        | `unique_ptr` | `shared_ptr`   |
| --------------------- | ------------ | -------------- |
| –°–æ–±—Å—Ç–≤–µ–Ω–æ—Å—Ç           | –ï–∫—Å–∫–ª—É–∑–∏–≤–Ω–∞  | –°–ø–æ–¥–µ–ª–µ–Ω–∞      |
| –ö–æ–ø–∏—Ä–∞–Ω–µ              | üö´           | ‚úî              |
| –ü—Ä–µ—Ö–≤—ä—Ä–ª—è–Ω–µ (move)    | ‚úî            | ‚úî              |
| Reference counting    | üö´           | ‚úî              |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç      | –ù–∞–π-–¥–æ–±—Ä–∞    | –ú–∞–ª–∫–æ –ø–æ-–±–∞–≤–µ–Ω |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ  | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ    |

---

### –ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–æ–π?

* –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `unique_ptr`, –∫–æ–≥–∞—Ç–æ:

  * –ò–º–∞—Ç–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞.
  * –ù–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –∫–æ–ø–∏—Ä–∞—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª—è.
  * –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç –µ –≤–∞–∂–Ω–∞.
---
* –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `shared_ptr`, –∫–æ–≥–∞—Ç–æ:

  * –ò–º–∞—Ç–µ **–Ω—è–∫–æ–ª–∫–æ –æ–±–µ–∫—Ç–∞**, –∫–æ–∏—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–ø–æ–¥–µ–ª—è—Ç –µ–¥–∏–Ω –∏ —Å—ä—â —Ä–µ—Å—É—Ä—Å.
  * –ù–µ –∏—Å–∫–∞—Ç–µ –¥–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç–µ —Ä—ä—á–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –ø–∞–º–µ—Ç.
---

> ‚ö† –í–Ω–∏–º–∞–Ω–∏–µ: –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ `shared_ptr` –º–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–¥–µ **—Ü–∏–∫–ª–∏—á–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äì –¥–≤–∞ –æ–±–µ–∫—Ç–∞ –¥–∞ —Å–æ—á–∞—Ç –µ–¥–∏–Ω –∫—ä–º –¥—Ä—É–≥ —Å `shared_ptr`. –¢–æ–≤–∞ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –ø–∞–º–µ—Ç—Ç–∞. –†–µ—à–µ–Ω–∏–µ: –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `std::weak_ptr`.

---

# –î–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç

---
- –ü–æ–≤–µ—á–µ—Ç–æ –ø—ä—Ç–∏ –ø–æ-–¥–æ–±—Ä–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –ø–æ-–≤–∏—Å—à–∏ —Ç–∏–ø–æ–≤–µ –∫–∞—Ç–æ `std::string` –∏ `std::vector`, –≤–º–µ—Å—Ç–æ –ø—Ä—è–∫–æ –¥–∞ —Ä–∞–±–æ—Ç–∏–º —Å –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç:
- –ò–∑–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª—é—á–≤–∞—Ç:
    - –†–∞–±–æ—Ç–∞ —Å legacy –∫–æ–¥.
    - –ò–∑–∏—Å–∫–≤–∞–Ω–∏—è –∑–∞ –≤–∏—Å–æ–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç.
---
### –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ **RAII** (Resource Acquisition Is Initialization)

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏—Ç–µ (–ø–∞–º–µ—Ç, —Ñ–∞–π–ª–æ–≤–µ, –º—Ä–µ–∂–æ–≤–∏ –≤—Ä—ä–∑–∫–∏ –∏ —Ç.–Ω.) —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –æ–±–≤—ä—Ä–∂–µ —Å –∂–∏–∑–Ω–µ–Ω–∏—è —Ü–∏–∫—ä–ª –Ω–∞ –æ–±–µ–∫—Ç.
* –†–µ—Å—É—Ä—Å–∏—Ç–µ —Å–µ –∑–∞–¥–µ–ª—è—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ —Å–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞—Ç –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
* –¢–æ–≤–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–∞–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∏–∑–ª–µ–∑–µ –ø–æ –Ω–æ—Ä–º–∞–ª–µ–Ω –Ω–∞—á–∏–Ω –∏–ª–∏ —á—Ä–µ–∑ –∏–∑–∫–ª—é—á–µ–Ω–∏–µ, —Ä–µ—Å—É—Ä—Å–∏—Ç–µ —â–µ –±—ä–¥–∞—Ç –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞–Ω–∏.
---

```cpp
class FileWrapper {
    FILE* file;
public:
    FileWrapper(const char* filename) {
        file = fopen(filename, "r");
    }
    ~FileWrapper() {
        if (file) fclose(file);
    }
};
```

---
### –ò–∑–±—è–≥–≤–∞–π—Ç–µ ‚Äú–≥–æ–ª–∏‚Äù —É–∫–∞–∑–∞—Ç–µ–ª–∏ (**raw pointers**)

* –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ `char*`, `int*` –∏ –¥—Ä—É–≥–∏ ‚Äú–≥–æ–ª–∏‚Äù —É–∫–∞–∑–∞—Ç–µ–ª–∏ —á–µ—Å—Ç–æ –≤–æ–¥–∏ –¥–æ memory leaks –∏ undefined behavior.
* –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ:

  * `std::string` –≤–º–µ—Å—Ç–æ `char*`
  * `std::vector<T>` –≤–º–µ—Å—Ç–æ `T*`
  * `std::unique_ptr<T>` –∏–ª–∏ `std::shared_ptr<T>` –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏.
---
```cpp
std::unique_ptr<int> ptr = std::make_unique<int>(42);
```

---
### –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏—Ç–µ –ø—Ä–µ–¥–∏ –¥–æ—Å—Ç—ä–ø

* –ü—Ä–∞–∫—Ç–∏–∫–∞—Ç–∞ `if (ptr != nullptr)` –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç.
* –ò–∑–±—è–≥–≤–∞–π—Ç–µ dereference (`*ptr`) –Ω–∞ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –∏–ª–∏ –≤–µ—á–µ –æ—Å–≤–æ–±–æ–¥–µ–Ω–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏.
---
```cpp
if (data != nullptr) {
    std::cout << *data << std::endl;
}
```

---

### –ó–∞–¥–∞–≤–∞–π—Ç–µ `nullptr` —Å–ª–µ–¥ `delete`

* –°–ª–µ–¥ –∫–∞—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –¥–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç —Å `delete` –∏–ª–∏ `delete[]`, –∑–∞–¥–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ `nullptr`, –∑–∞ –¥–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ –≤–∏—Å—è—â–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏.

```cpp
delete[] data;
data = nullptr;
```

---

### –ó–∞–±—Ä–∞–Ω–µ—Ç–µ –Ω–µ–Ω—É–∂–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å `= delete`

* –ê–∫–æ –∫–ª–∞—Å—ä—Ç –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∫–æ–ø–∏—Ä–∞ –∏–ª–∏ –ø—Ä–∏—Å–≤–æ—è–≤–∞, –º–æ–∂–µ—Ç–µ –¥–∞ –∑–∞–±—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∑–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:
---
```cpp
class NonCopyable {
public:
    NonCopyable() = default;
    NonCopyable(const NonCopyable&) = delete;          // –∑–∞–±—Ä–∞–Ω—è–≤–∞–º–µ –∫–æ–ø–∏—Ä–∞–Ω–µ
    NonCopyable& operator=(const NonCopyable&) = delete; // –∑–∞–±—Ä–∞–Ω—è–≤–∞–º–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä=
};
```
---

# –ó–∞–¥–∞—á–∏

---

1. –†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–ª–∞—Å `DynamicArray`:

   * –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `new[]` –∏ `delete[]`;
   * –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ –∫–æ–ø–∏—Ä–∞–Ω–µ –∏ –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ;
   * –¥–æ–±–∞–≤–µ—Ç–µ –º–µ—Ç–æ–¥–∏ –∑–∞ –¥–æ—Å—Ç—ä–ø, —Ä–∞–∑–º–µ—Ä –∏ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç.

---

2. –°—ä–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å `Person`, –∫–æ–π—Ç–æ –∏–º–∞:

   * –¥–∏–Ω–∞–º–∏—á–µ–Ω `char* name`;
     –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ/—É–Ω–∏—â–æ–∂–∞–≤–∞–Ω–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞;
   * –º–µ—Ç–æ–¥ `print()`.

---

3. –ù–∞–ø—Ä–∞–≤–µ—Ç–µ –∫–ª–∞—Å `StudentList`:

   * —á–ª–µ–Ω ‚Äì –¥–∏–Ω–∞–º–∏—á–µ–Ω –º–∞—Å–∏–≤ –æ—Ç `Student` –æ–±–µ–∫—Ç–∏;
   * –º–µ—Ç–æ–¥–∏ –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ, –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –∏ —Ç—ä—Ä—Å–µ–Ω–µ;
   * –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ—Ç–æ –Ω–∞ 5.

---
