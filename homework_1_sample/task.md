# **Примерно домашно: Автокъща**

## **Цел**

Да се създаде малка система от два свързани класа (`Car` и `Dealer`), чрез която се упражняват основните концепции за **класове в C++**, включително:

* конструктори и деструктори;
* *списък за инициализация*;
* getters и setters с валидация;
* `to_string()` метод;
* статични членове и `const` методи;
* добри практики (`explicit`, `const`-коректност, `= default`).

---

## **Изисквания към класовете**

### **1) Клас `Car`**

#### Член-променливи:

* `string brand;` – марка на автомобила
* `int year;` – година на производство
* `double price;` – цена в лева

#### Конструктори:

* Конструктор по подразбиране (`brand = "Unknown"`, `year = 2000`, `price = 0`);
* Параметризиран конструктор със *списък за инициализация*;
* (По желание) `explicit Car(string b)` – демонстрация на `explicit`.

#### Методи:

* `void setPrice(double p);` – проверява `p >= 0`, иначе хвърля `invalid_argument`;
* `string getBrand() const;`, `int getYear() const;`, `double getPrice() const;`;
* `string to_string() const;` – връща текстово представяне:

  ```
  Toyota (2020) - 25500 лв.
  ```

#### Статични членове (по желание):

* `static int total;` – брояч на всички създадени обекти `Car`;
* `static int getTotal();` – достъп до броя.

#### Добри практики:

* `const`-коректност;
* инициализация вместо присвояване;
* `= default` за деструктора (ако няма ресурси).

---

### **2) Клас `Dealer`**

Представя автокъща, която притежава списък с автомобили.

#### Член-променливи:

* `string name;` – име на автокъщата;
* `vector<Car> stock;` – налични автомобили.

#### Конструктори:

* Конструктор по подразбиране и параметризиран конструктор с име.

#### Методи:

* `void addCar(const Car& c);` – добавя автомобил в списъка;
* `double totalValue() const;` – връща сумата на всички цени;
* `vector<Car> newerThan(int year) const;` – връща всички коли, произведени след дадена година;
* `string to_string() const;` – връща кратко описание, например:

  ```
  Dealer: AutoMax
  Total cars: 3
  Inventory value: 70500.00 лв.
  ```

#### Добри практики:

* Всички методи, които не променят състоянието, да бъдат `const`;
* Използвайте `std::move` при нужда от оптимизация (по желание).

---
## **Примерен код за тестване**

```cpp
#include <iostream>
#include <dealership.h>

using namespace std;

int main() {
    Dealer d{"AutoMax"};
    d.addCar(Car{"Toyota", 2020, 25500});
    d.addCar(Car{"Honda", 2018, 21000});
    d.addCar(Car{"BMW", 2021, 24000});

    cout << d.to_string() << "\n";
    cout << "Cars newer than 2019:\n";
    for (const auto& c : d.newerThan(2019))
        cout << "  - " << c.to_string() << "\n";

    cout << "Total cars created: " << Car::getTotal() << endl;
}
```

---
## **Примерен изход**

```
Dealer: AutoMax
Total cars: 3
Inventory value: 70500.000000 лв.
Cars newer than 2019:
  - Toyota (2020) - 25500 лв.
  - BMW (2021) - 24000 лв.
Total cars created: 3
```

---
## **Критерии за оценяване**

* **Коректност и устойчивост** (валидации, инварианти): 30%
* **ООП дизайн** (капсулация, `const`-коректност, статични членове): 25%
* **Конструктори/деструктори, Rule of 3/5**: 20%
* **Код стил и добри практики** (`explicit`, списъци за инициализация, `= default`/`= delete`): 15%
* **Демонстрация и тестове** (смислен `main()`, покриващ случаи): 10%
